<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>WebSocket File Progress Demo</title>
</head>
<body>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
    <script>
        $(function () {
            var socket = new WebSocket('wss://xxxxxxxxxx.execute-api.us-east-1.amazonaws.com/dev');

            socket.onopen = function(event) {
                console.log("connected!");
            }

            socket.onmessage = function(event) {
                console.log("data recieved: " + event.data);
                $('#file').attr('value', event.data);
                $('#file').text(event.data + "%");
            }
        });
    </script>
    <label>ファイル処理進捗:</label>
    <progress id="file" max="100" value="0">0%</progress>
</body>